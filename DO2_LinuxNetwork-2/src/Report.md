# Сети в Linux

Настройка сетей в Linux на виртуальных машинах.


## Contents

1. [Инструмент ipcalc](#part-1-инструмент-ipcalc) \
2. [Статическая маршрутизация между двумя машинами](#part-2-статическая-маршрутизация-между-двумя-машинами) \
3. [Утилита iperf3](#part-3-утилита-iperf3) \
4. [Сетевой экран](#part-4-сетевой-экран) \
5. [Статическая маршрутизация сети](#part-5-статическая-маршрутизация-сети) \
6. [Динамическая настройка IP с помощью DHCP](#part-6-динамическая-настройка-ip-с-помощью-dhcp) \
7. [NAT](#part-7-nat) \
8. [Допополнительно. Знакомство с SSH Tunnels](#part-8-дополнительно-знакомство-с-ssh-tunnels)
9. [Chapter IV](#chapter-iv)\

## Part 1. Инструмент **ipcalc**
##### Поднять виртуальную машину (далее -- ws1)
#### 1.1. Сети и маски
##### Определить и записать в отчёт:
##### 1) адрес сети *192.167.38.54/13*
` Network - 192.160.0.0/13 `

![img1](img/1.png)
##### 2) перевод маски *255.255.255.0* в префиксную и двоичную запись, */15* в обычную и двоичную, *11111111.11111111.11111111.11110000* в обычную и префиксную

*255.255.255.0*:

![img2](img/2.png)

`- Префиксная - Netmask: 255.255.255.0=24`
`- Двоичная - 11111111.11111111.11111111.00000000`

*/15*:
`- Обычная - Adress: 255.254.0.0`
`- Двоичная - 11111111.11111111.00000000.00000000`

![img3](img/3.png)

*11111111.11111111.11111111.11110000*:
`- Oбычная - Adress: 255.255.255.240`
`- Префиксная - Netmask: 255.0.0.0 = 8`

![img4](img/4.png)

##### 3) минимальный и максимальный хост в сети *12.167.38.4* при масках: */8*, *11111111.11111111.00000000.00000000*, *255.255.254.0* и */4*
 *12.167.38.4* при масках */8*:
 `- Минимальный хост - Xostmin: 12.0.0.1`
 `- Максимальный хост - Xostmax: 12.255.255.254`
 
![img5](img/5.png)

 *12.167.38.4* при масках *11111111.11111111.00000000.00000000*:
 `- Минимальный хост - Xostmin: 12.167.0.1`
 `- Максимальный хост - Xostmax: 12.167.255.254`

![img6](img/6.png)

 *12.167.38.4* при масках *255.255.254.0*:
 `- Минимальный хост - Xostmin: 12.167.38.1`
 `- Максимальный хост - Xostmax: 12.167.39.254`

 ![img7](img/7.png)

  *12.167.38.4* при масках */4*:
 `- Минимальный хост - Xostmin: 0.0.0.1`
 `- Максимальный хост - Xostmax: 15.255.255.254`

 ![img8](img/8.png)

#### 1.2. localhost
##### Определить и записать в отчёт, можно ли обратиться к приложению, работающему на localhost, со следующими IP: *194.34.23.100*, *127.0.0.2*, *127.1.0.1*, *128.0.0.1*

В википедии находим информацию localhost в диапазоне : 127.0.0.1 — 127.255.255.255.

Соответсвенно можно обратиться к приложению работающему на localhost, со следующими IP: `*127.0.0.2*,*127.1.0.1*, а с IP: *194.34.23.100*, *128.0.0.1* - нельзя.


#### 1.3. Диапазоны и сегменты сетей
##### Определить и записать в отчёт:
##### 1) какие из перечисленных IP можно использовать в качестве публичного, а какие только в качестве частных: *10.0.0.45*, *134.43.0.2*, *192.168.4.2*, *172.20.250.4*, *172.0.2.1*, *192.172.0.1*, *172.68.0.2*, *172.16.255.255*, *10.10.10.10*, *192.169.168.1*

____Публичным IP-адресом называется -____ IP-адрес, который используется для выхода в Интернет. Публичные (глобальные) IP-адреса маршрутизируются в Интернете, в отличие от частных адресов.

В связи с информацией из materials:
Следующие диапазоны адресов зарезервированы для частных (также известных как LAN) сетей:

10.0.0.0 — 10.255.255.255 ( 10.0.0.0/8 ),

172.16.0.0 — 172.31.255.255 ( 172.16.0.0/12 ),

192.168.0.0 — 192.168.255.255 ( 192.168.0.0/16 ).

127.0.0.0 — 127.255.255.255 (Зарезервировано для петлевых интерфейсов (не используется для связи между узлами сети), так называемый localhost)
Делаем вывод, что __*10.0.0.45*, *192.168.4.2*,  *172.20.250.4*, *172.16.255.255*, *10.10.10.10*__ это только для частных сетей , а остальные __*134.43.0.2*, *172.0.2.1*, *192.172.0.1*, *172.68.0.2*,*192.169.168.1*__ - можно использовать для публичных.

##### 2) какие из перечисленных IP адресов шлюза возможны у сети *10.10.0.0/18*: *10.0.0.1*, *10.10.0.2*, *10.10.10.10*, *10.10.100.1*, *10.10.1.255*

__Шлюз__ - это один из типов маршрутизаторов. Маршрутизаторы соединяют несколько сетей и выполняют функции маршрутизации пакетов. Например, некоторые маршрутизаторы передают данные по маршруту на уровне сетевого интерфейса или на физическом уровне. Шлюзы осуществляют маршрутизацию на сетевом уровне.

-Hostmin: 10.10.0.1 
-Hostmax: 10.10.63.254

 ![img9](img/9.png)

 Из этого следует, что возможны у сети *10.10.0.0/18*: *10.10.0.2*, *10.10.10.10*, *10.10.1.255* , а невозможны *10.0.0.1*,  *10.10.100.1*.

## Part 2. Статическая маршрутизация между двумя машинами